#%Module1.0######################################################################
#
# Connect modulefile
#

proc ModulesHelp { } {
puts stderr "This modulefile defines the library paths and"
puts stderr "include paths needed to access the OSG Connect suite of tools."
}

set is_module_rm [module-info mode remove]
module-whatis "setup Connect modulefile 1.0"

if [ module-info mode load ] {

  # set up environment  

  set HOME ~ ; # change to /software later
  set bosco_dir $HOME/bosco
  set config_dir $HOME/.bosco
  set config_fl $config_dir/condor_config
  set script_fl $bosco_dir/connect.sh

  prepend-path PATH       $bosco_dir/sbin
  prepend-path PATH       $bosco_dir/bin
  prepend-path LD_LIBRARY_PATH  $bosco_dir/lib
  prepend-path MANPATH      $bosco_dir/man

  setenv CONDOR_CONFIG $config_fl

  if [catch {exec $script_fl -qn update </dev/null | tee /dev/tty} fid] {
     puts stderr "An error occurred. Please check $config_dir/connect_setup.log for more information."
     exit 1
     }
}



